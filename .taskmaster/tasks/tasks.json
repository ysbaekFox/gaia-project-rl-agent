{
  "master": {
    "tasks": [
      {
        "id": 1,
        "title": "통합 게임 상태/데이터 모델 설계",
        "description": "잃어버린 함대 요소까지 포함한 4인 게임 상태를 Python 데이터 구조로 표현하고, 로컬에서 재현 가능한 스냅샷 전략을 수립한다.",
        "status": "pending",
        "priority": "medium",
        "dependencies": [],
        "details": "- 메인/깊은 섹터, 특수 지형, 우주선 등을 단일 데이터 모델로 표현\n- 플레이어 자원·파워·위성·연방 토큰·특수 행동 사용 여부를 추적\n- 정적 카탈로그(종족, 기술 타일, 부스터, 우주선 규칙)를 코드/데이터로 선언하고 로컬 저장/로드 포맷을 정의",
        "testStrategy": "",
        "subtasks": [
          {
            "id": 1,
            "title": "맵/행성/지형 좌표 스키마",
            "description": "메인 섹터와 깊은 우주 타일을 포함한 전역 좌표 체계를 설계하고, 행성 타입·테라포밍 단계·특수 지형 태그를 데이터화한다.",
            "status": "pending",
            "priority": "medium",
            "dependencies": [],
            "details": "- 인터페이스/깊은 우주 좌표 통합\n- 회전/미러링을 재현할 수 있는 타일 참조 구조\n- 소행성/원시/잃어버린 행성, 인공물, 가이아 행성을 구분하는 속성",
            "testStrategy": ""
          },
          {
            "id": 2,
            "title": "플레이어/파워/위성 상태 구조",
            "description": "4인 멀티에이전트 게임에서 자원, 파워 3구역+가이아 구역, 위성, 연방 토큰, 특수 행동 사용 플래그를 추적하는 데이터 클래스를 정의한다.",
            "status": "pending",
            "priority": "medium",
            "dependencies": [],
            "details": "- 파워 토큰 이동과 위성 소모를 안전하게 표현\n- 종족별 고유 수입·능력 플래그를 포함\n- 복사/스냅샷/리플레이를 고려한 불변/가변 구조 구분",
            "testStrategy": ""
          },
          {
            "id": 3,
            "title": "정적 카탈로그 및 로컬 스냅샷 포맷",
            "description": "기술 타일, 라운드 부스터, 점수 타일, 종족, 우주선/탐사 규칙을 정적 데이터로 선언하고, 전체 게임 상태를 로컬 파일로 저장/로드할 수 있는 포맷을 정의한다.",
            "status": "pending",
            "priority": "medium",
            "dependencies": [],
            "details": "- JSON/YAML/데이터클래스 기반 선언\n- 시드 기반 랜덤 샘플링에 재사용 가능한 헬퍼 제공\n- 네트워크 없이 활용 가능한 로컬 스냅샷/리플레이 구조",
            "testStrategy": ""
          }
        ]
      },
      {
        "id": 2,
        "title": "시드 기반 초기화 및 라운드 플로우",
        "description": "4인 게임의 전체 셋업과 6라운드 흐름을 제어하는 상태 머신을 구현한다. 잃어버린 함대 요소도 초기화부터 포함한다.",
        "status": "pending",
        "priority": "medium",
        "dependencies": [
          "1"
        ],
        "details": "- 시드 기반으로 기술/부스터/연방/우주선/임무를 추첨\n- 본판·확장·하이브 순서와 규칙으로 시작 건물을 배치\n- 수입→가이아→행동→정리 단계를 6라운드 반복하고 승점 집계를 수행",
        "testStrategy": "",
        "subtasks": [
          {
            "id": 1,
            "title": "시드 기반 초기 셋업 모듈",
            "description": "기술 타일, 라운드/최종 점수, 라운드 부스터, 연방 토큰, 함대 우주선 타일을 시드 기반으로 추첨하여 상태 모델에 반영한다.",
            "status": "pending",
            "priority": "medium",
            "dependencies": [
              "1.3"
            ],
            "details": "- 각 풀별 중복 제한 및 잃어버린 함대 추가 자산 포함\n- 시드 재현성 검증\n- 결과를 상태 스냅샷과 로그로 남길 수 있는 API",
            "testStrategy": ""
          },
          {
            "id": 2,
            "title": "시작 건물 배치 및 스네이크 순서",
            "description": "본판→확장→하이브 순서를 따르는 시작 건물 배치 규칙을 구현하고, 항해 거리/행성 적합성 검증을 통합한다.",
            "status": "pending",
            "priority": "medium",
            "dependencies": [
              "1.1",
              "1.2"
            ],
            "details": "- 스네이크 턴 구조 재현\n- 확장 종족의 소행성/원시 행성 배치 규칙 포함\n- 하이브 특례 처리와 검증 오류 리포트",
            "testStrategy": ""
          },
          {
            "id": 3,
            "title": "라운드 단계 상태 머신 및 승점 집계",
            "description": "수입→가이아→행동→정리 단계를 제어하는 상태 머신을 구축하고, 라운드 종료·게임 종료·승점 합산 로직을 구현한다.",
            "status": "pending",
            "priority": "medium",
            "dependencies": [
              "2.1",
              "2.2"
            ],
            "details": "- 패스 종료 조건 및 턴 순서 관리\n- 가이아 단계 처리, 특수 행동 초기화\n- 최종 점수·타이브레이커 계산",
            "testStrategy": ""
          }
        ]
      },
      {
        "id": 3,
        "title": "행동/규칙 엔진",
        "description": "모든 메인/프리 액션, 파워·연구·연방 규칙, 잃어버린 함대 특수 규칙을 하나의 엔진으로 구현한다.",
        "status": "pending",
        "priority": "medium",
        "dependencies": [
          "1",
          "2"
        ],
        "details": "- 각 행동을 명령 객체나 함수로 정의하고 합법성 검증\n- 파워 순환, 가이아 프로젝트, 위성, 수동 파워 충전을 자동화\n- 연구 트랙·기술·연방·확장 특수 지형/우주선 효과를 즉시 반영",
        "testStrategy": "",
        "subtasks": [
          {
            "id": 1,
            "title": "메인/프리 액션 파이프라인",
            "description": "광산 건설, 업그레이드, 연구 전진, 특수 행동, 파워/정보 액션, 패스 행동을 공통 파이프라인으로 처리한다.",
            "status": "pending",
            "priority": "medium",
            "dependencies": [
              "2.3"
            ],
            "details": "- 행동 단계를 선언하고 비용 차감 순서 통일\n- 불법 행동 시 상세 예외/사유 리포트\n- 프리 액션/특수 행동의 사용 제한 및 초기화 연동",
            "testStrategy": ""
          },
          {
            "id": 2,
            "title": "파워/위성/가이아 처리",
            "description": "파워 3구역/가이아 구역, 위성 소모, 가이아 프로젝트 파워 비용, 수동 파워 충전 트리거를 구현한다.",
            "status": "pending",
            "priority": "medium",
            "dependencies": [
              "1.2",
              "3.1"
            ],
            "details": "- 파워 이동 로직과 가이아 프로젝트 비용 표 적용\n- 이웃 건설 시 수동 충전/승점 선택\n- 연방 형성 시 위성 배치 및 파워 토큰 폐기 규칙",
            "testStrategy": ""
          },
          {
            "id": 3,
            "title": "연구/기술/연방 규칙",
            "description": "연구 트랙 6종의 전진/보상, 기술 타일 획득 조건, 연방 형성 및 토큰 관리를 자동화한다.",
            "status": "pending",
            "priority": "medium",
            "dependencies": [
              "3.1"
            ],
            "details": "- 연구 전진 시 보상·별칸·파워 충전 처리\n- 기본/고급/함대 전용 기술 타일 조건 검증\n- 연방 파워 합계, 위성 경로 탐색, 토큰 앞/뒷면 상태",
            "testStrategy": ""
          },
          {
            "id": 4,
            "title": "확장 지형·우주선·특수 타일 규칙",
            "description": "소행성/원시/잃어버린 행성, 인공물, 깊은 우주 타일, 우주선 탐사, 확장 특수 타일과 경제 오버레이 효과를 행동 엔진에 통합한다.",
            "status": "pending",
            "priority": "medium",
            "dependencies": [
              "3.2",
              "3.3"
            ],
            "details": "- 지형별 건설/점수/자원 규칙\n- 우주선별 탐사 단계·보상·패널티\n- 확장 추가 파워/정보 액션 및 반복 점수 타일 연동",
            "testStrategy": ""
          }
        ]
      },
      {
        "id": 4,
        "title": "멀티에이전트 환경 API",
        "description": "게임 상태 엔진을 RL 학습에서 사용할 수 있는 멀티에이전트 환경으로 감싸고, 관측/액션/보상 인터페이스를 정의한다.",
        "status": "pending",
        "priority": "medium",
        "dependencies": [
          "1",
          "2",
          "3"
        ],
        "details": "- 플레이어별 관측 텐서와 합법 액션 마스크 출력\n- step/reset/render, 멀티환경 벡터화, 불법 행동 패널티를 지원\n- 로컬 사용을 가정한 Gym-like API 제공",
        "testStrategy": "",
        "subtasks": [
          {
            "id": 1,
            "title": "관측 텐서 인코딩",
            "description": "보드 상태, 자원, 연구, 기술, 우주선, 연방/지형 분포를 정규화된 텐서/다중 헤드 표현으로 인코딩한다.",
            "status": "pending",
            "priority": "medium",
            "dependencies": [
              "1",
              "3"
            ],
            "details": "- 고정/가변 요소 패킹 전략\n- 정규화/스케일링 정책 정의\n- GPU/CPU 모두 효율적인 메모리 배치",
            "testStrategy": ""
          },
          {
            "id": 2,
            "title": "합법 액션 공간 및 마스킹",
            "description": "메인/프리/특수 행동과 패스를 단일 인덱스 공간으로 정의하고, 현재 상태에서 합법한 행동 마스크를 계산한다.",
            "status": "pending",
            "priority": "medium",
            "dependencies": [
              "3"
            ],
            "details": "- 행동 카테고리별 인덱싱/embedding\n- 비용·조건 검증과 연동된 마스크 생성기\n- 대규모 액션 수에서도 안정적인 sparse 표현",
            "testStrategy": ""
          },
          {
            "id": 3,
            "title": "step/reset/reward 로직",
            "description": "멀티에이전트 step, 에피소드 종료 시그널, 승점 기반 보상 합성, 불법 행동 패널티/재시도 정책을 구현한다.",
            "status": "pending",
            "priority": "medium",
            "dependencies": [
              "4.1",
              "4.2"
            ],
            "details": "- 패스/라운드 종료 시 다중 플레이어 동기화\n- 중간 보너스/규칙 위반 패널티 조합\n- CLI/스크립트에서 바로 사용할 수 있는 예제 제공",
            "testStrategy": ""
          }
        ]
      },
      {
        "id": 5,
        "title": "학습 파이프라인",
        "description": "PPO와 AlphaZero 스타일 self-play 학습 루프를 PyTorch로 구현하고, Ray 기반 분산 실행과 체크포인트를 구성한다.",
        "status": "pending",
        "priority": "medium",
        "dependencies": [
          "4"
        ],
        "details": "- 정책/가치 네트워크 입력 포맷과 마스킹된 로짓 처리\n- PPO 업데이트와 MCTS self-play 데이터 수집을 모두 지원\n- 로컬/클러스터 환경에서 실행 가능한 분산 파이프라인",
        "testStrategy": "",
        "subtasks": [
          {
            "id": 1,
            "title": "PPO 학습 루프",
            "description": "PyTorch 기반 정책/가치 네트워크, GAE, 마스킹 처리, 체크포인트 저장/로드를 포함한 PPO 학습 루프를 구축한다.",
            "status": "pending",
            "priority": "medium",
            "dependencies": [
              "4"
            ],
            "details": "- 입력 파이프라인과 하이퍼파라미터 템플릿\n- advantage/returns 안정화 기법\n- 반복 실행 스크립트",
            "testStrategy": ""
          },
          {
            "id": 2,
            "title": "AlphaZero/MCTS self-play",
            "description": "MCTS 기반 정책 개선 루프, self-play 데이터 생성, 가치/정책 타깃 계산 로직을 구현한다.",
            "status": "pending",
            "priority": "medium",
            "dependencies": [
              "4"
            ],
            "details": "- 트리 노드 확장/온도/Dirichlet 노이즈\n- 배치 self-play 및 버퍼 관리\n- PPO 모델과 공유 가능한 입력/출력 포맷 유지",
            "testStrategy": ""
          },
          {
            "id": 3,
            "title": "Ray 분산 self-play 및 체크포인트",
            "description": "Ray 기반 환경 벡터화, 파라미터 서버/워커 구조, 자원 스케줄링, 체크포인트 아카이브를 구축한다.",
            "status": "pending",
            "priority": "medium",
            "dependencies": [
              "5.1",
              "5.2"
            ],
            "details": "- 워커 생명주기와 장애 복구 전략\n- 실험 구성 파일(yaml/json) 파서\n- 모델/리플레이 버전 관리",
            "testStrategy": ""
          }
        ]
      },
      {
        "id": 6,
        "title": "로깅·리플레이·평가",
        "description": "로컬 환경에서 학습 로그를 수집하고, 리플레이/데이터 분석/자동 평가 파이프라인을 구축한다.",
        "status": "pending",
        "priority": "medium",
        "dependencies": [
          "4",
          "5"
        ],
        "details": "- 네트워크 의존 없이 TensorBoard/CSV 등으로 메트릭을 기록\n- 리플레이 저장/재생 및 분석 도구 제공\n- 최신 정책 vs 기준 정책 매치를 자동화",
        "testStrategy": "",
        "subtasks": [
          {
            "id": 1,
            "title": "로컬 로깅/모니터링",
            "description": "TensorBoard나 로컬 CSV 기반으로 학습 곡선, 승률, 리소스 사용량을 기록하고 토글 가능한 로거 인터페이스를 구현한다.",
            "status": "pending",
            "priority": "medium",
            "dependencies": [
              "5"
            ],
            "details": "- 주요 메트릭 집계 및 단계별 로그\n- 설정 파일/CLI로 활성화 제어\n- 네트워크 없이도 동작하는 백엔드",
            "testStrategy": ""
          },
          {
            "id": 2,
            "title": "리플레이 저장/분석 도구",
            "description": "상태-행동-보상 로그를 저장하고, CLI로 재생·검증·조건 필터링을 수행하는 리플레이 파이프라인을 작성한다.",
            "status": "pending",
            "priority": "medium",
            "dependencies": [
              "4"
            ],
            "details": "- 효율적인 압축/스트리밍 포맷\n- 특정 라운드/조건 분석 기능\n- RL 학습과 평가에서 재사용 가능한 API",
            "testStrategy": ""
          },
          {
            "id": 3,
            "title": "자동 평가/토너먼트",
            "description": "최신 정책과 기준 정책을 매칭하고 규칙 위반 여부를 검증하는 자동 평가/토너먼트 스크립트를 구현한다.",
            "status": "pending",
            "priority": "medium",
            "dependencies": [
              "5"
            ],
            "details": "- 매치 스케줄/시드 관리/통계 집계\n- illegal action 재시도 정책\n- 결과 리포트를 로컬 파일로 출력",
            "testStrategy": ""
          }
        ]
      },
      {
        "id": 7,
        "title": "PRD 테라포밍 관계 테이블 채우기",
        "description": "`.taskmaster/docs/prd.txt`의 \"기본 행성 타입간의 테라포밍 관계 테이블\" 섹션에 7×4 테이블을 채워 넣어 각 색 행성 사이의 테라포밍 단계 차이를 명시한다.",
        "details": "- 보드 규칙 기반으로 모행성 대비 1~3단계 관계를 표로 정리\n- 잃어버린 함대 확장에서도 동일하게 활용 가능하도록 표기 규칙 맞추기\n- 작성 후 PRD 내 다른 섹션(행성 타입 요약 등)과 링크/용어를 일치시킴",
        "testStrategy": "",
        "status": "pending",
        "dependencies": [],
        "priority": "low",
        "subtasks": []
      }
    ],
    "metadata": {
      "created": "2025-12-02T15:56:56.061Z",
      "description": "Default tasks context",
      "updated": "2025-12-10T16:15:14.369Z"
    }
  }
}